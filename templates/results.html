{% extends 'layout.html' %}
{% block body %}

    {% if mensaje == 1 %}
        <div class="container text-center alert alert-danger my-2" role="alert">
            Ya existe un juego con el nombre {{ items['name'] }} en nuestros registros.
            Verifique los datos ingresados.
        </div>
    {% elif mensaje == 2 %}
        <div class="container text-center alert alert-success my-2" role="alert">
            El juego ha sido ingresado con exito!!
        </div>
    {% elif mensaje == 3 %}
        <div class="container text-center alert alert-warning my-2" role="alert">
            Los datos del juego han sido actualizados con exito!!
        </div>
    {% elif mensaje == 4 %}
        <div class="container text-center alert alert-danger my-2" role="alert">
            El campo ingresado no corresponde a ningun juego registrado. Verifiquelo.
        </div>
    {% elif mensaje == 5 %}
        <div class="container text-center alert alert-danger my-2" role="alert">
            ATENCION!!! Desea ELIMINAR el siguiente elemento DEFINITIVAMENTE ???
        </div>
    {% elif mensaje == 6 %}
        <div class="container text-center alert alert-success my-2" role="alert">
            Registro eliminado exitosamente.
        </div>
    {% elif mensaje == 7 %}
        <div class="container text-center alert alert-success my-2" role="alert">
            Ha habido un error durante el guardado del registro. Intente nuevamente.
        </div>
    {% else %}
        <div class="container text-center alert alert-success my-2" role="alert">
            Juego(s) encontrado(s)!!
        </div>
    {% endif %}

    {% for item in items %}
        {% set claves = [ "ID:", 
                      "Nombre del juego:",
                      "Minima cantidad de jugadores:",
                      "Maxima cantidad de jugadores:",
                      "Edad minima recomendada:",
                      "Pais de origen:",
                      "Precio (en dolares):"
                    ]
        %}
        <div class="container resultados">
            <div class="container">
                <h2 class="text-center"> Datos del juego: </h2>
            </div>
            <div>
                <ul class="list-group list-group-flush">
                    {% set ns = namespace(i = 0) %}
                    {% for k,v in item.items() %}
                        <li class="list-group-item d-flex gap-2 justify-content-center">
                            <span class="fw-bold"> {{ claves[ns.i] }} </span>
                            <p> {{ v }} </p>
                        </li>
                        {% set ns.i = ns.i+1 %}
                    {% endfor %}
                </ul>
            </div>
        </div>
    {% endfor %}

    {% if mensaje == 1: %}
        <div class="container gap-3 my-3">
            <div class="container d-flex justify-content-center gap-3 my-3">
                <a href="/agregar" class="btn btn-success"> Crear nuevo registro </a>
            </div>
            <p class="text-center fw-bold">
                Para actualizar este registro, vuelva al Buscador e ingrese el ID "{{ items[0]['_id'] }}". Luego, presione el boton "Actualizar"
            </p>
        </div>
    {% endif %}
    {% if mensaje == 4 : %}
        <div class="container d-flex justify-content-center gap-3 my-3">
            <a href="/agregar" class="btn btn-success"> Crear nuevo registro </a>
        </div>
    {% endif %}
    {% if mensaje == 5 : %}
        <div class="container d-flex justify-content-center gap-3 my-3">
            <a href="{{ url_for('eliminar', objID=items[0]['_id']) }}" class="btn btn-danger"> Eliminar registro </a>
            <a href="/" class="btn btn-primary"> Cancelar </a>
        </div>
    {% endif %}

    <div class="container d-flex justify-content-center gap-3 my-3">
        <a href="/" class="btn btn-primary"> Volver al Inicio </a>
    </div>
{% endblock %}